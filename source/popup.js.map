{
  "version": 3,
  "sources": ["../scripts/popup.ts"],
  "sourcesContent": ["// Add button handlers\naddButtonHandler('clear-browsing-data', async () => {\n    await browser.browsingData.remove({}, { history: true, downloads: true, cache: true, formData: true });\n\n    return { success: true };\n});\n\naddButtonHandler('clear-clipboard', async () => {\n    await navigator.clipboard.writeText('');\n\n    return { success: true };\n});\n\ntype ButtonCallback = () => Promise<{ message?: string; success?: boolean }>;\n\n/**\n * Adds a click listener to the provided button that runs the given function.\n * @param buttonId The ID of the button to add the function to.\n * @param callback The function to run when the button is clicked.\n */\nfunction addButtonHandler(buttonId: string, callback: ButtonCallback) {\n    const button = document.querySelector<HTMLButtonElement>(`#${buttonId}`)!;\n\n    button.dataset.title = button.textContent!;\n\n    button.addEventListener('click', async () => {\n        button.disabled = true;\n        button.textContent = 'Clearing...';\n\n        const result = await callback().catch((error: Error) => {\n            console.error(error);\n            return { message: error.message } as Awaited<ReturnType<ButtonCallback>>;\n        });\n\n        if (result.message) button.textContent = result.message;\n        else if (result.success) button.textContent = 'Cleared!';\n        else button.textContent = 'Failed!';\n\n        setTimeout(() => {\n            button.textContent = button.dataset.title!;\n            button.disabled = false;\n        }, 2000);\n    });\n}\n"],
  "mappings": ";AACA,iBAAiB,uBAAuB,YAAY;AAChD,QAAM,QAAQ,aAAa,OAAO,CAAC,GAAG,EAAE,SAAS,MAAM,WAAW,MAAM,OAAO,MAAM,UAAU,KAAK,CAAC;AAErG,SAAO,EAAE,SAAS,KAAK;AAC3B,CAAC;AAED,iBAAiB,mBAAmB,YAAY;AAC5C,QAAM,UAAU,UAAU,UAAU,EAAE;AAEtC,SAAO,EAAE,SAAS,KAAK;AAC3B,CAAC;AASD,SAAS,iBAAiB,UAAkB,UAA0B;AAClE,QAAM,SAAS,SAAS,cAAiC,IAAI,QAAQ,EAAE;AAEvE,SAAO,QAAQ,QAAQ,OAAO;AAE9B,SAAO,iBAAiB,SAAS,YAAY;AACzC,WAAO,WAAW;AAClB,WAAO,cAAc;AAErB,UAAM,SAAS,MAAM,SAAS,EAAE,MAAM,CAAC,UAAiB;AACpD,cAAQ,MAAM,KAAK;AACnB,aAAO,EAAE,SAAS,MAAM,QAAQ;AAAA,IACpC,CAAC;AAED,QAAI,OAAO,QAAS,QAAO,cAAc,OAAO;AAAA,aACvC,OAAO,QAAS,QAAO,cAAc;AAAA,QACzC,QAAO,cAAc;AAE1B,eAAW,MAAM;AACb,aAAO,cAAc,OAAO,QAAQ;AACpC,aAAO,WAAW;AAAA,IACtB,GAAG,GAAI;AAAA,EACX,CAAC;AACL;",
  "names": []
}
