{
  "version": 3,
  "sources": ["../scripts/popup.ts"],
  "sourcesContent": ["// Select first button\ndocument.querySelector('button')!.focus();\n\n// Add button handlers\naddButtonHandler('clear-browsing-data', async () => {\n    await chrome.browsingData.remove({}, { history: true, downloads: true, cache: true, formData: true });\n    return { success: true };\n});\n\naddButtonHandler('clear-clipboard', async () => {\n    await navigator.clipboard.writeText('');\n    return { success: true };\n});\n\naddButtonHandler('clear-cookies', async () => {\n    const [tab] = await chrome.tabs.query({ active: true, currentWindow: true });\n    if (!tab) return { message: 'No active tab found!' };\n    if (!tab.url) return { message: 'No active tab URL found!' };\n\n    const cookies = await chrome.cookies.getAll({ url: tab.url });\n    if (cookies.length === 0) return { message: 'No cookies found!' };\n\n    await Promise.all(cookies.map((cookie) => chrome.cookies.remove({ url: `http${cookie.secure ? 's' : ''}://${cookie.domain}${cookie.path}`, name: cookie.name, storeId: cookie.storeId })));\n\n    return { message: `Cleared ${cookies.length} cookies!` };\n});\n\ntype ButtonCallback = () => Promise<{ message?: string; success?: boolean }>;\n\n/**\n * Adds a click listener to the provided button that runs the given function.\n * @param buttonId The ID of the button to add the function to.\n * @param callback The function to run when the button is clicked.\n */\nfunction addButtonHandler(buttonId: string, callback: ButtonCallback) {\n    const button = document.querySelector(`#${buttonId}`) as HTMLButtonElement;\n\n    button.dataset.title = button.textContent!;\n\n    button.addEventListener('click', async () => {\n        button.disabled = true;\n        button.textContent = 'Clearing...';\n\n        const result = await callback().catch((error: Error) => {\n            console.error(error);\n            return { message: error.message } as Awaited<ReturnType<ButtonCallback>>;\n        });\n\n        if (result.message) button.textContent = result.message;\n        else if (result.success) button.textContent = 'Cleared!';\n        else button.textContent = 'Failed!';\n\n        setTimeout(() => {\n            button.textContent = button.dataset.title!;\n            button.disabled = false;\n        }, 2000);\n    });\n}\n"],
  "mappings": ";AACA,SAAS,cAAc,QAAQ,EAAG,MAAM;AAGxC,iBAAiB,uBAAuB,YAAY;AAChD,QAAM,OAAO,aAAa,OAAO,CAAC,GAAG,EAAE,SAAS,MAAM,WAAW,MAAM,OAAO,MAAM,UAAU,KAAK,CAAC;AACpG,SAAO,EAAE,SAAS,KAAK;AAC3B,CAAC;AAED,iBAAiB,mBAAmB,YAAY;AAC5C,QAAM,UAAU,UAAU,UAAU,EAAE;AACtC,SAAO,EAAE,SAAS,KAAK;AAC3B,CAAC;AAED,iBAAiB,iBAAiB,YAAY;AAC1C,QAAM,CAAC,GAAG,IAAI,MAAM,OAAO,KAAK,MAAM,EAAE,QAAQ,MAAM,eAAe,KAAK,CAAC;AAC3E,MAAI,CAAC,IAAK,QAAO,EAAE,SAAS,uBAAuB;AACnD,MAAI,CAAC,IAAI,IAAK,QAAO,EAAE,SAAS,2BAA2B;AAE3D,QAAM,UAAU,MAAM,OAAO,QAAQ,OAAO,EAAE,KAAK,IAAI,IAAI,CAAC;AAC5D,MAAI,QAAQ,WAAW,EAAG,QAAO,EAAE,SAAS,oBAAoB;AAEhE,QAAM,QAAQ,IAAI,QAAQ,IAAI,CAAC,WAAW,OAAO,QAAQ,OAAO,EAAE,KAAK,OAAO,OAAO,SAAS,MAAM,EAAE,MAAM,OAAO,MAAM,GAAG,OAAO,IAAI,IAAI,MAAM,OAAO,MAAM,SAAS,OAAO,QAAQ,CAAC,CAAC,CAAC;AAEzL,SAAO,EAAE,SAAS,WAAW,QAAQ,MAAM,YAAY;AAC3D,CAAC;AASD,SAAS,iBAAiB,UAAkB,UAA0B;AAClE,QAAM,SAAS,SAAS,cAAc,IAAI,QAAQ,EAAE;AAEpD,SAAO,QAAQ,QAAQ,OAAO;AAE9B,SAAO,iBAAiB,SAAS,YAAY;AACzC,WAAO,WAAW;AAClB,WAAO,cAAc;AAErB,UAAM,SAAS,MAAM,SAAS,EAAE,MAAM,CAAC,UAAiB;AACpD,cAAQ,MAAM,KAAK;AACnB,aAAO,EAAE,SAAS,MAAM,QAAQ;AAAA,IACpC,CAAC;AAED,QAAI,OAAO,QAAS,QAAO,cAAc,OAAO;AAAA,aACvC,OAAO,QAAS,QAAO,cAAc;AAAA,QACzC,QAAO,cAAc;AAE1B,eAAW,MAAM;AACb,aAAO,cAAc,OAAO,QAAQ;AACpC,aAAO,WAAW;AAAA,IACtB,GAAG,GAAI;AAAA,EACX,CAAC;AACL;",
  "names": []
}
